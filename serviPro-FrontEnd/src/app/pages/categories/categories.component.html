<div class="container min-vh-100 rounded-border ">
    <!-- <p class="text-light">item-list </p> -->

<div class="row px-4 ">
    <div class="col"></div>
    <div class="col"></div>
    <div class="col"></div>
    <div class="col custom-column1-color custom-column1 p-3 rounded-border m-1">
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addCategory">Add Category</button>
    </div>
</div>


<div *ngIf="!categoryList" class="d-flex justify-content-center text-warning">
  <div class="spinner-border" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>

<div class="row px-4 ">
    <div class="col ">
        <table class="table table-hover table-dark table-bordered table-borderless mb-0  w-100 "  *ngIf="categoryList">
            <thead>
              <tr>
                <th class="custom-backGround " scope="col"> # </th>
                <th class="custom-backGround " scope="col"> Category Name </th>
                <th class="custom-backGround " scope="col"> Action </th>
              </tr>
            </thead>
            <tbody>
              <!-- This is For each  -->
          <tr *ngFor="let category of categoryList; let i = index;">
            <td class="custom-backGround ">{{i+1}}</td>
            <td class="custom-backGround ">{{category.categoryName}}</td>
            <td class="custom-backGround ">
              <button (click)="setSelectedCategory(category)" class="btn btn-success mx-1" data-bs-toggle="modal" data-bs-target="#updateItem" > Update </button>
              <button (click)="setSelectedCategory(category)" class="btn btn-danger " data-bs-toggle="modal" data-bs-target="#deleteModal"> Remove </button>
            </td>
          </tr>
            </tbody>
          </table>
    </div>
    <div class="col"></div>
    
</div>



<!-- Modal - Add Category-->
<div class="modal fade" id="addCategory" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body p-5 pt-0">
          <form class="">
            <div class="form-floating mb-3">
              <input type="text" class="form-control rounded-3" name="itemCode" [(ngModel)]="category.categoryName" id="itemCode" placeholder="">
              <label for="itemCode">Category</label>
            </div>

            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
              <button 
              class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" 
              (click)="createItem()" 
              type="submit" 
              
              data-bs-dismiss="modal" 
              aria-label="Close" >
              <!-- [disabled]="isSubmitionDisabled  ||!category.categoryName"  -->
                Submit
            </button>
            <button 
              type="button" 
              class="btn btn-outline-danger btn-lg px-4" 
              data-bs-dismiss="modal" 
              aria-label="Close" 
              (click)="btncanceloption()">
              Cancel
            </button>

            </div>
            
            <small class="text-body-secondary">By clicking Sign up, you agree to the terms of use.</small>
          </form>
        </div>
    </div>
  </div>
</div>
</div>

<!-- Modal - Delete Conformation -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body p-5 pt-0">
          <h1 class="display-5 fw-bold text-body-emphasis">Confirme Remove Action?</h1>
        <div class=" mx-auto">
          <p class="lead mb-4">You cannot revert this action...</p>
          <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
            <button type="button" (click)="deleteItem()" class="btn btn-primary btn-lg px-4 gap-3" data-bs-dismiss="modal" aria-label="Close">Yes, Delete</button>
            <button type="button" class="btn btn-outline-secondary btn-lg px-4" data-bs-dismiss="modal" aria-label="Close">No Thanks</button>
          </div>
        </div>
        </div>
    </div>
  </div>
</div>



<!-- Modal - Update Item-->
<div class="modal fade" id="updateItem" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body p-5 pt-0">
          <form class="">
            <div class="form-floating mb-3">
              <input type="text" class="form-control rounded-3" name="itemCode" [(ngModel)]="selectedCategory && selectedCategory.categoryName" [ngModelOptions]="{standalone: true}" id="itemCode" placeholder="">
              <label for="itemCode"></label>
            </div>
            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
              <button 
              class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" 
              (click)="updateItem()" 
              type="submit" 
              data-bs-dismiss="modal" 
              aria-label="Close">
                Update
            </button>
            <button type="button" class="btn btn-outline-danger btn-lg px-4" data-bs-dismiss="modal" aria-label="Close" (click)="btncanceloption()">Cancel</button>

            </div>
            
            <small class="text-body-secondary">By clicking Sign up, you agree to the terms of use.</small>
          </form>
        </div>
    </div>
  </div>
</div>
